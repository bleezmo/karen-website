<!DOCTYPE html>
<html ng-app='sh'>
<head>
    <title>Scavenger Hunt</title>
    <script src="/assets/js/vendor/angular.min.js"></script>
    <script src="/assets/js/vendor/angular-resource.min.js"></script>
    <script src="/assets/js/vendor/angular-route.min.js"></script>
    <script src="/assets/js/scavenger-hunt.js"></script>
    <link href='/assets/css/bootstrap.min.css' rel='stylesheet' type='text/css'>
    <link href='/assets/css/bootstrap-responsive.min.css' rel='stylesheet' type='text/css'>
    <script src="/assets/js/vendor/ui-bootstrap-custom-tpls-0.6.0.min.js"></script>
    <script src="/assets/js/vendor/underscore-min.js"></script>
</head>
<body ng-controller='ScavengerHuntCtrl'>

    <script type="text/ng-template" id="myModalContent.html">
        <div class="modal-header">
            <h3>New Hunt</h3>
        </div>
        <div class="modal-body">
            <div ng-repeat="group in groups" style="border: 1px solid; margin-bottom: 5px; padding: 5px;">
                <h4>Group <input ng-model="group.name" style="width: 70px">: Add participants</h4>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <td>Name</td>
                            <td>Phone no.</td>
                            <td>Group</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="participant in group.participants">
                            <td><input ng-model="participant.name" style="width: 70px;"></td>
                            <td><input ng-model="participant.number" style="width: 70px;"></td>
                            <td><input ng-model="participant.group" style="width: 70px;"></td>
                            <td><button ng-click="removeParticipant(group,participant)">Remove</button></td>
                        </tr>
                    </tbody>
                </table>
                <button style="display: inline-block;" ng-click="addParticipant(group)">Add Participant</button>
                <button style="display: inline-block;" ng-click="removeGroup(group)">Remove Group</button>
            </div>
            <hr>
            <button ng-click="addGroup()">Add Group</button>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>
    <div class="container-fluid">
        <div class="span2">
            <button class="btn" ng-click="newHunt()">New Hunt</button>
            <ul>
                <li ng-repeat="hunt in hunts"><a href="" ng-click="setSelectedHunt(hunt)">{{hunt.date}}</a></li>
            </ul>
        </div>
        <div class="span10" ng-show="showSelectedHunt">
            <h3>Groups</h3>
            <div ng-repeat="group in selectedHunt.groups" style="border: 1px solid; margin-bottom: 5px; padding: 5px;">
                <h4>Group {{group.name}}</h4>
                <div style="display: inline-block">
                    <p>Participants ({{group.participants.length}} total)</p>
                    <p ng-repeat="participant in group.participants">{{participant}}</p>
                </div>
                <div style="display: inline-block">

                </div>
                <textarea ng-model="textmsg"></textarea>
                <button ng-click="sendText(group,textmsg)">Send Group Text</button>
            </div>
        </div>
    </div>
</body>
</html>